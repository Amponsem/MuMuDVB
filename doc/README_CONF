README for config file of mumudvb

= General config =

mumudvb must use a file de configuration to give him all the different reception parameters and the pid repartition aver the different channels. You will find an example in the file conf.example attached with mumudvb sources in the doc directory.

Mumudvb does not worry to the parameter's order except for chanels where pids must be put after the ip and the port

You can put comments everywhere in the configuration file : just start the line with #

All parameters are like: name=value


'''List of parameters and their description ( (f) : optionnal parameter )'''
----
||'''Name :'''                          ||'''value:'''                                ||
||rewrite_pat                    ||specify if we wants the PAT rewriting feature ||
||cam_support                    ||specify if we wants the support for scrambled channels ||
||cam_number                     ||the number of the CAM we want to use (default 0) ||
||autoconfiguration              ||autoconfiguration 1: find audio and video, 2: full autoconfiguration, see README ||
||freq                           ||transponder's frequency in MHz ||
||pol                            ||transponder's polarisation (a char) v or h (not case sensitive) ||
||srate                          ||transponder's strate ||
||sat_number                     ||The satellite number (for diseqc users) ||
||card (f)                       ||card number (dÃ©faut : 0) ||
||timeout_accord (f)             ||tuning timeout (in seconds) (default : 300 (5min)) ||
||timeout_no_diff (f)            ||if the program doesn't stream any chanels, he will kill himself at the end of this time (in seconds) (default : 600 (10min)) ||
|| Pour la TNT                   ||
||qam                            ||quadrature amplitude modulation, possible values : qpsk,16,32,64,128,256,auto ||
||trans_mode                     ||transmission mode, possible values : 2k,8k,auto ||
||bandwidth                      ||bandwith, possible values : 8MHz,7MHz,6MHz,auto ||
||guardinterval                  ||guard interval, possible values : 1/32,1/16,1/8,1/4,auto ||
||coderate                       ||coderate, possible values : none,1/2,2/3,3/4,4/5,5/6,6/7,7/8,8/9,auto ||
||'''For each channel '''||
||ip                             ||multicast (can also be unicast) ip where the chanel will be diffused ||
||port                           ||port ||
||pids                           ||a pid list space separeted (any number, some pids are always sent (PAD EIT SDT TDT NIT) see README for more details) ||
||cam_pmt_pid                    ||(only for scrambled channels) the PMT PID for CAM support ||
||name (f)                       ||the name given to the chanel in /var/run/mumudvb/chaines_diffusees%d (used to generate  SAP announces) ||


== Note ==
You must specify (except with autoconfiguration, see README): 
 * audio pid
 * video pid
 * PMT pid

It's advised to set the PCR pid (usually the same as audio or video pid)

= Get the PID numbers =

If you don't use autoconfiguration (see the README), you have to get the PIDs (Program Identifier) for each channel

In order to get the pids numbers, the easier way is to use linuxtv-dvb-apps.
You tune the card on the wanted frequency (with """tune""" for example).

After you use the scan utility : 
{{{scan -c -a """Card number"""}}} ( This exemple is for the case of an already tuned card. You can tune your card with szap or tzap for example. Refer to the scan' documentation for more details )

And you'll get a result like  : 

{{{
using '/dev/dvb/adapter2/frontend0' and '/dev/dvb/adapter2/demux0'
0x0000 0x0101: pmt_pid 0x006e GR1 -- France 2 (running)
0x0000 0x0103: pmt_pid 0x019a GR1 -- France 4 (running)
0x0000 0x0104: pmt_pid 0x0136 GR1 -- France 5 (running)
0x0000 0x0105: pmt_pid 0x01fe GR1 -- ARTE (running)
0x0000 0x0106: pmt_pid 0x0262 GR1 -- LCP (running)
0x0000 0x0111: pmt_pid 0x00d2 Reg -- France 3 (running)
dumping lists (6 services)
France 2                 (0x0101) 01: PCR == V   V 0x0078 A 0x0082 (fra) SUB 0x008c
France 4                 (0x0103) 01: PCR == V   V 0x01a4 A 0x01ae (fra) SUB 0x01b8
France 5                 (0x0104) 01: PCR == V   V 0x0140 A 0x014a (fra) SUB 0x0154
ARTE                     (0x0105) 01: PCR == V   V 0x0208 A 0x0212 (fra) 0x0213 (deu) SUB 0x021e
LCP                      (0x0106) 01: PCR == V   V 0x026c A 0x0276 (fra) SUB 0x0280
France 3                 (0x0111) 01: PCR == V   V 0x00dc A 0x00e6 (fra) SUB 0x00f0
Done.
}}}

You can also use the modified version of scan wich is able to make a config file for mumudvb.
In order to do that you have to compile the modified version in the tools directory (with the make command) and use scan the following way : 
{{{./scan -c -a """card number""" -o mumudvb}}}

You can also get the configuration directly in a file

{{{./scan -c -a """card number""" -o mumudvb > mumudvb.conf}}}

Warning : you have to manually add the card number in the generated configuration file.
